<Window x:Class="HCI_Project.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:HCI_Project.Beans"
        Title="MainWindow" Height="680" Width="1024">
    <Window.Resources>
        <BitmapImage x:Key="FolderOpen" UriSource="/HCI_Project;component/Resources/foldero.png"/>
        <BitmapImage x:Key="FolderClosed" UriSource="/HCI_Project;component/Resources/folder.png"/>
        <Style x:Key="SmallIcon" TargetType="Image">
            <Setter Property="MaxWidth" Value="16"/>
            <Setter Property="MaxHeight" Value="16"/>
            <Setter Property="Margin" Value="1"/>
        </Style>
    </Window.Resources>
    <DockPanel>
        <Grid DockPanel.Dock="Top">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition/>
            </Grid.RowDefinitions>

            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
            <Grid Grid.Row="0" Background="#A2A1AC">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Row="0" Grid.Column="0" Margin="0 5 0 5" HorizontalAlignment="Center" Opacity="0.5"  Grid.ColumnSpan="3">Dodavanje novih podataka</TextBlock>
                <Button Grid.Row="1" Grid.Column="0" FontFamily="Arial" FontSize="13" Margin="10 10 20 10" Padding="10 5 10 5" Click="Dodaj_Lokal">Dodaj lokal</Button>

                <Button Grid.Row="1" Grid.Column="1" FontFamily="Arial" FontSize="13"  Margin="0 10 20 10" Padding="20 5 20 5" Click="Dodaj_Tip">Dodaj tip</Button>
                <Button Grid.Row="1" Grid.Column="2" FontFamily="Arial" FontSize="13" Margin="0 10 20 10" Padding="10 5 10 5" Click="Dodaj_Etiketa">Dodaj etiketu</Button>
                <TextBlock Grid.Row="0" Grid.Column="3" Margin="0 5 0 5" HorizontalAlignment="Center" Opacity="0.5" Grid.ColumnSpan="3">Prikaz podataka</TextBlock>
                <Button Grid.Row="1" Grid.Column="3" FontFamily="Arial" FontSize="13" Margin="30 10 20 10" Padding="10 5 10 5" Click="Prikazi_Tabela">Prikaz tabele</Button>
                <Button Grid.Row="1" Grid.Column="4"  FontFamily="Arial" FontSize="13" Margin="0 10 20 10" Padding="10 5 10 5">Prikaz mape</Button>
            </Grid>
        </Grid>
        <Grid DockPanel.Dock="Bottom">
            <Grid.RowDefinitions>
                <RowDefinition />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition  Width="1*"/>
                <ColumnDefinition  Width="3*"/>
            </Grid.ColumnDefinitions>
            <TreeView Grid.Column="0" Grid.Row="0" Name="trvLokali" ItemsSource="{Binding Tipovi}">
                <TreeView.Resources>
                    <HierarchicalDataTemplate DataType="{x:Type local:TipLokala}" ItemsSource="{Binding Lokali}">
                        <StackPanel Orientation="Horizontal">
                            <Image Margin="0,0,5,0">
                                <Image.Style>
                                    <Style BasedOn="{StaticResource ResourceKey=SmallIcon}" TargetType="Image">
                                        <Setter Property="Source" Value="{Binding Source={StaticResource ResourceKey=FolderClosed}, Mode=OneTime}"/>
                                        <Style.Triggers>
                                            <DataTrigger 
                                            Binding="{Binding 
                                                    RelativeSource={RelativeSource 
                                                            AncestorType={x:Type TreeViewItem}}, 
                                                            Path=IsExpanded}" 
                                            Value="True">
                                                <Setter Property="Source" Value="{Binding Source={StaticResource ResourceKey=FolderOpen}, Mode=OneTime}"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Image.Style>
                            </Image>
                            <TextBlock Text="{Binding Naziv}"/>
                            <StackPanel.ContextMenu>
                                <ContextMenu>
                                    <MenuItem Header="Dodaj" Command="{Binding Add}"></MenuItem>
                                </ContextMenu>
                            </StackPanel.ContextMenu>
                        </StackPanel>
                    </HierarchicalDataTemplate>
                    <DataTemplate DataType="{x:Type local:Lokal}">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="{Binding Naziv}" FontWeight="Bold"/>
                        </StackPanel>
                    </DataTemplate>
                </TreeView.Resources>
            </TreeView>
            <ScrollViewer Grid.Column="1" Grid.Row="0"
                x:Name="theScrollViewer"
                HorizontalScrollBarVisibility="Auto"
                VerticalScrollBarVisibility="Auto">
                <Image  x:Name="myImage" Stretch="None"/>
            </ScrollViewer>
        </Grid>
    </DockPanel>
</Window>
